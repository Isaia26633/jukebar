<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spotify Player</title>
    <link rel="stylesheet" href="../styles/sp.css">
</head>

<body id="colorContent">
    <%- include("partials/header.ejs") %>

        <div id="content" class="contentBox">
            <h1>Spotify Player</h1>
            <div id="search">
                <p>Search for a song to play:</p>
                <input type="text" id="searchInput" placeholder="Song title">
                <button onclick="search()" id="searchButton">Search</button>

                <div id="searchResults">
                    search results
                </div>

                <button onclick="addSong()">Add to Queue</button>
            </div>

        <div id="queue">
            <h2>Queue</h2>
            <div id="current">
                <iframe id="playerFrame" src="https://open.spotify.com/embed/track/3n3Ppam7vgaVa1iaRUc9Lp" width="300"
                    height="380" allowtransparency="true" frameborder="0" allow="encrypted-media"></iframe>
                <div id="playerControls">
                    <button id="play">Play</button>
                    <button id="pause">Pause</button>
                    <button id="next">Next</button>
                    <button id="previous">Previous</button>
                    <div id="volume">
                        <input type="range" id="volumeControl" min="0" max="100" value="100">
                    </div>
                </div>
            </div>
            <div id="next">
                <ol>
                    <li>Next song</li>
                    <li>Next song</li>
                    <li>Next song</li>
                    <li>Next song</li>
                    <li>Next song</li>
                </ol>
            </div>
        </div>

        <%- include("partials/footer.ejs") %>

            <script>
                const searchInput = document.getElementById("searchInput");
                const searchResults = document.getElementById("searchResults");

                var queue = [];

                function search() {
                    fetch(`https://api.spotify.com/v1/search?q=${searchInput}&type=track`, {
                        headers: {
                            "Authorization": "Bearer BQD5"
                        }
                    })
                    searchInput.innerHTML = "";
                }

                function addSong() {
                    queue.push(searchResults);
                    searchResults.innerHTML = "";
                }

            </script>
</body>

</html>